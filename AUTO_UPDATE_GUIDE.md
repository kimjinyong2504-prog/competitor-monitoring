# 자동 업데이트 가이드

## 개선 사항

### 1. 보고서 내용 강화
- ✅ **상세한 재무 정보**: 손익계산서, 재무상태표, 재무 비율 표시
- ✅ **시각화 차트**: 매출액, 영업이익, 당기순이익 추이를 차트로 표시
- ✅ **재무 비율**: 영업이익률, 부채비율 등 주요 지표 계산 및 표시
- ✅ **업데이트 시간**: 마지막 업데이트 시간 표시

### 2. 실시간 자동 업데이트
- ✅ **변경사항 감지**: 새로운 공시, 뉴스 자동 감지
- ✅ **주기적 업데이트**: 설정한 간격으로 자동 데이터 수집
- ✅ **변경사항 알림**: 새로운 정보가 있을 때만 보고서 재생성

## 사용 방법

### 방법 1: 기본 자동 업데이트 (간단)
```bash
python main.py --watch --interval 3600
```
- 1시간(3600초)마다 자동으로 업데이트
- 변경사항이 있을 때만 보고서 재생성

### 방법 2: 고급 자동 업데이트 (변경사항 감지)
```bash
python auto_update.py --interval 3600 --check 300
```
- `--interval`: 전체 업데이트 간격 (기본: 3600초 = 1시간)
- `--check`: 변경사항 확인 간격 (기본: 300초 = 5분)
- 변경사항이 감지되면 즉시 보고서 업데이트

### 방법 3: 수동 업데이트
```bash
python main.py
```
- 한 번만 실행하여 데이터 수집 및 보고서 생성

## 업데이트 동작 방식

1. **주기적 업데이트**: 설정한 간격(기본 1시간)마다 전체 데이터 수집
2. **변경사항 감지**: 
   - 새로운 공시가 등록되면 감지
   - 새로운 뉴스 기사가 있으면 감지
   - 재무 데이터가 업데이트되면 감지
3. **자동 보고서 생성**: 변경사항이 있을 때만 HTML 보고서 재생성

## 예시

### 5분마다 확인, 1시간마다 전체 업데이트
```bash
python auto_update.py --interval 3600 --check 300
```

### 30분마다 확인, 2시간마다 전체 업데이트
```bash
python auto_update.py --interval 7200 --check 1800
```

## 종료 방법
- `Ctrl+C`를 눌러 자동 업데이트를 종료할 수 있습니다.

## 주의사항
- 자동 업데이트는 백그라운드에서 계속 실행됩니다
- 네트워크 연결이 필요합니다
- API 호출 제한에 주의하세요 (DART API, Naver API)

